<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <meta name="description" content="Basketball Playmaker Pro - Professional basketball play diagramming with radial menu interface" />
  <meta name="theme-color" content="#1a1a1a" />

  <title>Basketball Playmaker Pro</title>

  <link rel="stylesheet" href="style.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" crossorigin="anonymous" defer></script>

  <script src="app.js" defer></script>
</head>
<body>
  <div id="app-container">

    <nav id="top-toolbar" role="navigation" aria-label="Main toolbar">
      <div class="toolbar-section">
        <label for="play-name">Play Name:</label>
        <input
          type="text"
          id="play-name"
          placeholder="Untitled Play"
          aria-label="Enter play name" />

        <label for="court-toggle" class="visually-hidden">Court Type</label>
        <select id="court-toggle" aria-label="Select court type">
          <option value="half" selected>Half Court</option>
          <option value="full">Full Court</option>
        </select>
      </div>

      <div class="toolbar-section">
        <button
          id="new-play"
          class="btn btn-warning"
          aria-label="Create new play">
          ğŸ†• New Play
        </button>

        <button
          id="undo-btn"
          class="btn btn-primary"
          title="Undo (Ctrl+Z)"
          aria-label="Undo last action"
          disabled>
          â†¶ Undo
        </button>
        <button
          id="redo-btn"
          class="btn btn-primary"
          title="Redo (Ctrl+Y)"
          aria-label="Redo last undone action"
          disabled>
          â†· Redo
        </button>

        <button
          id="clear-frame"
          class="btn btn-danger"
          aria-label="Clear current frame">
          ğŸ—‘ï¸ Clear Frame
        </button>
      </div>

      <div class="toolbar-section">
        <button
          id="animate-play"
          class="btn btn-primary"
          aria-label="Play animation">
          â–¶ï¸ Animate
        </button>
      </div>

      <div class="toolbar-section">
        <button
          id="save-play"
          class="btn btn-success"
          aria-label="Save play to file">
          ğŸ’¾ Save
        </button>
        <button
          id="load-play"
          class="btn btn-info"
          aria-label="Load play from file">
          ğŸ“‚ Load
        </button>
        <input
          type="file"
          id="load-file-input"
          class="visually-hidden-input"
          accept=".json"
          aria-label="Select play file to load" />
      </div>

      <div class="toolbar-section">
        <button
          id="export-video-btn"
          class="btn btn-info"
          aria-label="Export play as video">
          ğŸ¬ Export Video
        </button>
        <button
          id="export-pdf"
          class="btn btn-warning"
          aria-label="Export play as PDF">
          ğŸ“„ PDF
        </button>
      </div>
    </nav>

    <div id="instruction-bar" role="status" aria-live="polite">
      <span id="instruction-text">Drag a player onto the court to begin</span>
    </div>

    <main id="main-content">

      <aside id="frame-panel" role="complementary" aria-label="Frame management">
        <h3>Frames</h3>
        <div
          id="frame-list"
          role="list"
          aria-label="List of animation frames">
        </div>

        <div class="frame-controls">
          <button
            id="add-frame"
            class="btn btn-success"
            aria-label="Add new frame">
            + Add
          </button>
          <button
            id="delete-frame"
            class="btn btn-danger"
            aria-label="Delete current frame">
            - Delete
          </button>
        </div>

        <h3>Notes</h3>
        <textarea
          id="frame-notes"
          placeholder="Add notes for this frame..."
          aria-label="Frame notes">
        </textarea>
      </aside>

      <div id="court-container" role="main" aria-label="Basketball court canvas">
        <canvas
          id="play-canvas"
          role="img"
          aria-label="Basketball play diagram">
        </canvas>

        <div id="action-wheel" class="hidden" role="menu" aria-label="Player actions">
          <div class="wheel-button" id="wheel-cut" data-tool="cut" role="menuitem" aria-label="Move / Cut" title="Move / Cut (M)"></div>
          <div class="wheel-button" id="wheel-pass" data-tool="pass" role="menuitem" aria-label="Pass" title="Pass (P)"></div>
          <div class="wheel-button" id="wheel-screen" data-tool="screen" role="menuitem" aria-label="Screen" title="Screen (S)"></div>
          <div class="wheel-button" id="wheel-delete" data-tool="delete" role="menuitem" aria-label="Delete Player" title="Delete (Del)"></div>
          <div class="wheel-button" id="wheel-ball" data-tool="assign-ball" role="menuitem" aria-label="Assign Ball" title="Assign Ball (B)"></div>
          <div class="wheel-button" id="wheel-shoot" data-tool="shoot" role="menuitem" aria-label="Shoot" title="Shoot (X)"></div>
          <div class="wheel-button" id="wheel-dribble" data-tool="dribble" role="menuitem" aria-label="Dribble" title="Dribble (D)"></div>
        </div>
      </div>

      <aside id="drawing-toolbox" role="complementary" aria-label="Player selection">
        <h3>Players</h3>

        <h4>Offense</h4>
        <div
          class="player-palette"
          id="player-palette-offense"
          role="group"
          aria-label="Offensive players">
          <canvas
            class="player-tool-icon"
            data-player="1"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag offensive player 1 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="2"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag offensive player 2 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="3"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag offensive player 3 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="4"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag offensive player 4 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="5"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag offensive player 5 to court">
          </canvas>
        </div>

        <h4>Defense</h4>
        <div
          class="player-palette"
          id="player-palette-defense"
          role="group"
          aria-label="Defensive players">
          <canvas
            class="player-tool-icon"
            data-player="X1"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag defensive player X1 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="X2"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag defensive player X2 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="X3"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag defensive player X3 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="X4"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag defensive player X4 to court">
          </canvas>
          <canvas
            class="player-tool-icon"
            data-player="X5"
            draggable="true"
            tabindex="0"
            role="button"
            aria-label="Drag defensive player X5 to court">
          </canvas>
        </div>

<div class="help-section">
          <h4>ğŸ’¡ Quick Tips</h4>
          <ul>
            <li>- Drag players to court</li>
            <li>- Click player for actions</li>
            <li>- Double-click to finish line</li>
            <li>- Click line to delete it</li>
          </ul>
        </div>

        <div id="donationLinks">
          Like this app?
          <a href="https://www.paypal.me/mattswymer84" target="_blank" title="PayPal">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0e/PayPal_2024_%28Icon%29.svg/250px-PayPal_2024_%28Icon%29.svg.png" alt="PayPal" />
          </a>
          <a href="https://venmo.com/mattswymer" target="_blank" title="Venmo">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Venmo_logo.png/1200px-Venmo_logo.png" alt="Venmo" />
          </a>
        </div>
      </aside>
    </main>
  </div>

  <div id="loading-overlay" class="hidden" role="alert" aria-live="assertive">
    <div class="spinner-box">
      <div class="spinner" aria-hidden="true"></div>
      <span id="loading-text">Generating...</span>
    </div>
  </div>

</body>
</html>